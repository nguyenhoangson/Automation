# Script for docker installation
# in Ubuntu 14.04 LTS

### Check current kernel version
### Require kernel >= 3.10
uname -r

### Update package infomation 
sudo apt-get update
sudo apt-get install apt-transport-https ca-certificates

### Add the new GPG key
sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D

### Open /etc/apt/sources.list.d/docker.list
### If it does not exist, then create it
sudo su echo "" >> /etc/apt/sources.list.d/docker.list

sudo su truncate -s 0 /etc/apt/sources.list.d/docker.list # Delete any content of the file 

sudo su echo "deb https://apt.dockerproject.org/repo ubuntu-trusty main" >> /etc/apt/sources.list.d/docker.list # Add content for Ubuntu 14.04 LTS  

sudo apt-get update
sudo apt-get purge lxc-docker
apt-cache policy docker-engine

sudo apt-get update
sudo apt-get install linux-image-extra-$(uname -r)

### Install docker
sudo apt-get update
sudo apt-get install docker-engine=1.11.2~trusty 
sudo service docker start
sudo docker run hello-world

